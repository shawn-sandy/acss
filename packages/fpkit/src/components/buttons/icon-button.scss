// Breakpoint at which the label hides (icon-only on mobile).
// Override this variable in your own SCSS before importing to customise.
// NOTE: CSS custom properties cannot be used in @media conditions — this must be a SCSS variable.
$icon-label-bp: 48rem !default; // 768px

// Color reset for all IconButton instances.
// background stays transparent (set by button[data-style~="icon"]);
// color defaults to currentColor so the icon inherits from context.
// Override via styles={{ "--btn-color": "..." }} when a specific color is needed.
button[data-icon-btn],
.icon-btn {
  --btn-color: currentColor;
}

// Layout when a visible label is present alongside the icon.
// Higher specificity than button[data-style~="icon"] (which uses padding: unset)
// so padding is restored without needing a consumer override.
button[data-icon-btn~="has-label"],
.icon-btn[data-icon-btn~="has-label"] {
  gap: 0.375rem;
  padding-inline: 0.75rem;

  [data-icon-label] {
    font-size: var(--btn-fs, 0.875rem);
    line-height: 1;
    white-space: nowrap;
  }
}

// Hide label text visually on mobile — icon only.
// Uses visually-hidden technique so the span stays in the accessibility tree;
// screen readers always read it (display:none would remove it from the a11y tree).
@media (max-width: #{$icon-label-bp}) {
  [data-icon-label] {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}
